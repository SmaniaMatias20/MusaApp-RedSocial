<!-- perfil.component.html -->
<div class="bg-black text-white max-w-xl mx-auto p-4 rounded-xl shadow-lg border-b border-gray-700">
    <div class="flex items-center gap-4">
        <img src="{{ profileImage() }}" alt="Perfil" class="w-12 h-12 rounded-full object-cover">

        <div class="flex-1">
            <h2 class="text-xl font-bold flex items-center gap-1">
                {{firstName()}} {{lastName()}}
                <i *ngIf="isAdmin()" class="material-icons text-blue-500 text-sm">verified</i>
            </h2>
            <p class="text-gray-400">{{username()}}</p>
        </div>

        <button class="bg-gray-800 hover:bg-gray-700 px-3 py-1 rounded text-sm cursor-pointer"
            (click)="toggleEditProfile()">
            Editar perfil
        </button>

    </div>

    <p class="mt-4 text-base">{{description()}}</p>

    <div class="mt-3 text-sm text-gray-400 space-y-1">

        <div class="flex items-center gap-2">
            <i class="material-icons text-base">cake</i>
            <p>Fecha de nacimiento: {{ formattedBirthDate() }}</p>

        </div>

        <div class="flex items-center gap-2">
            <i class="material-icons text-base">calendar_today</i>
            <span>Se unió el {{ createdAt() }}</span>
        </div>
    </div>

    <div class="mt-4 flex gap-6 text-sm text-gray-300">
        <span><strong class="text-white">{{following}}</strong> Siguiendo</span>
        <span><strong class="text-white">{{followers}}</strong> Seguidores</span>
    </div>

    <div *ngIf="isEditing"
        class="fixed inset-0 bg-black/60 bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50">
        <div class="bg-black p-6 rounded-xl max-w-xl w-full shadow-2xl border border-gray-700 relative m-2">

            <!-- Botón cerrar -->
            <button (click)="toggleEditProfile()"
                class="absolute top-2 right-2 text-gray-400 hover:text-white cursor-pointer">
                <i class="material-icons">close</i>
            </button>

            <app-edit-profile (updatedUser)="toggleEditProfile()"></app-edit-profile>
        </div>
    </div>

</div>